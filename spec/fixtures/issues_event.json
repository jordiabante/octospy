{"id":"1774941092",
 "type":"IssuesEvent",
 "actor":
  {"id":262566,
   "login":"jeffkaufman",
   "gravatar_id":"1c43cb01fde39470cde8a1d7fd600a4f",
   "url":"https://api.github.com/users/jeffkaufman",
   "avatar_url":
    "https://secure.gravatar.com/avatar/1c43cb01fde39470cde8a1d7fd600a4f?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-user-420.png"},
 "repo":
  {"id":4766638,
   "name":"pagespeed/ngx_pagespeed",
   "url":"https://api.github.com/repos/pagespeed/ngx_pagespeed"},
 "payload":
  {"action":"opened",
   "issue":
    {"url":"https://api.github.com/repos/pagespeed/ngx_pagespeed/issues/430",
     "labels_url":
      "https://api.github.com/repos/pagespeed/ngx_pagespeed/issues/430/labels{/name}",
     "comments_url":
      "https://api.github.com/repos/pagespeed/ngx_pagespeed/issues/430/comments",
     "events_url":
      "https://api.github.com/repos/pagespeed/ngx_pagespeed/issues/430/events",
     "html_url":"https://github.com/pagespeed/ngx_pagespeed/issues/430",
     "id":16495538,
     "number":430,
     "title":"mismatching hashes for css",
     "user":
      {"login":"jeffkaufman",
       "id":262566,
       "avatar_url":
        "https://secure.gravatar.com/avatar/1c43cb01fde39470cde8a1d7fd600a4f?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-user-420.png",
       "gravatar_id":"1c43cb01fde39470cde8a1d7fd600a4f",
       "url":"https://api.github.com/users/jeffkaufman",
       "html_url":"https://github.com/jeffkaufman",
       "followers_url":"https://api.github.com/users/jeffkaufman/followers",
       "following_url":
        "https://api.github.com/users/jeffkaufman/following{/other_user}",
       "gists_url":"https://api.github.com/users/jeffkaufman/gists{/gist_id}",
       "starred_url":
        "https://api.github.com/users/jeffkaufman/starred{/owner}{/repo}",
       "subscriptions_url":
        "https://api.github.com/users/jeffkaufman/subscriptions",
       "organizations_url":"https://api.github.com/users/jeffkaufman/orgs",
       "repos_url":"https://api.github.com/users/jeffkaufman/repos",
       "events_url":
        "https://api.github.com/users/jeffkaufman/events{/privacy}",
       "received_events_url":
        "https://api.github.com/users/jeffkaufman/received_events",
       "type":"User"},
     "labels":[],
     "state":"open",
     "assignee":null,
     "milestone":null,
     "comments":0,
     "created_at":"2013-07-08T21:35:45Z",
     "updated_at":"2013-07-08T21:35:45Z",
     "closed_at":null,
     "pull_request":{"html_url":null, "diff_url":null, "patch_url":null},
     "body":
      "On pitchup.com the combined css is handled by another server and is getting served as `max-age=300,private`.  Something is different about the css file as the two servers generate them.  When I load that css file I get a file whose md5 hash, in the format pagespeed uses, would be KNrKf13HsE instead of Ch9SgekcK0.  When I edit the url to have that hash I get a long cache lifetime:\r\n\r\n```\r\n$ headers 'http://media2.pitchup.com/static/pitchup,_css,_normalize.css+pitchup,_sass,_stylesheets,_screen.css+pitchup,_css,_pitchup.css+pitchup,_css,_screen,_maps.css+pitchup,_css,_jqModal.css+pitchup,_zocial,_zocial.css+pitchup,_css,_tipsy.css+pitchup,_css,_video.css+pitchup,_css,_sitemap.css+pitchup,_js,_jQRangeSlider-5.1,_css,_classic-min.css+tn3,_skins,_tn3,_tn3.css+datepicker,_css,_base.css+datepicker,_css,_pitchup.css+reviewcentre,_seo_badge.v3.css+pitchup,_css,_homepage.css.pagespeed.cc.KNrKf13HsE.css'\r\nHTTP/1.1 200 OK\r\nServer: nginx/1.4.1\r\nContent-Type: text/css\r\nTransfer-Encoding: chunked\r\nConnection: keep-alive\r\nVary: Accept-Encoding\r\nDate: Mon, 08 Jul 2013 19:55:41 GMT\r\nExpires: Tue, 08 Jul 2014 19:55:41 GMT\r\nCache-Control: max-age=31536000\r\nETag: W/\"0\"\r\nLast-Modified: Mon, 08 Jul 2013 19:55:41 GMT\r\nX-Page-Speed: 1.5.27.3-3005\r\n```\r\n\r\nSimilarly, if I request that original url from www.pitchup.com, I get a long cache lifetime:\r\n\r\n```\r\n$ headers 'http://www.pitchup.com/static/pitchup,_css,_normalize.css+pitchup,_sass,_stylesheets,_screen.css+pitchup,_css,_pitchup.css+pitchup,_css,_screen,_maps.css+pitchup,_css,_jqModal.css+pitchup,_zocial,_zocial.css+pitchup,_css,_tipsy.css+pitchup,_css,_video.css+pitchup,_css,_sitemap.css+pitchup,_js,_jQRangeSlider-5.1,_css,_classic-min.css+tn3,_skins,_tn3,_tn3.css+datepicker,_css,_base.css+datepicker,_css,_pitchup.css+reviewcentre,_seo_badge.v3.css+pitchup,_css,_homepage.css.pagespeed.cc.Ch9SgekcK0.css'\r\nHTTP/1.1 200 OK\r\nServer: nginx/1.4.1\r\nContent-Type: text/css\r\nTransfer-Encoding: chunked\r\nConnection: keep-alive\r\nVary: Accept-Encoding\r\nDate: Mon, 08 Jul 2013 21:23:44 GMT\r\nExpires: Tue, 08 Jul 2014 21:23:44 GMT\r\nCache-Control: max-age=31536000\r\nETag: W/\"0\"\r\nLast-Modified: Mon, 08 Jul 2013 21:23:44 GMT\r\nX-Page-Speed: 1.5.27.3-3005\r\n```\r\n\r\nSo what's different between those two files?  Downloading them both and diffing, there are a lot of differences, all in urls:\r\n\r\n```\r\ngenerated by media2:\r\n     background: url('pitchup/images2/homepage/pu_homepage_sprites.png') right -120px no-repeat,\r\n\r\ngenerated by www:\r\n     background: url('http://media1.pitchup.com/static/pitchup/images2/homepage/pu_homepage_sprites.png') right -120px no-repeat,\r\n```\r\n\r\nA relative url in css is interpreted against the location of that css file, which means that the version generated by media2 is correct and the one generated by www is too verbose.  But I'm not sure why www isn't able to generate the shortened url."}},
 "public":true,
 "created_at":"2013-07-08T21:35:45Z",
 "org":
  {"id":1880112,
   "login":"pagespeed",
   "gravatar_id":"0736e1c30e49c94fb04060488d6dae78",
   "url":"https://api.github.com/orgs/pagespeed",
   "avatar_url":
    "https://secure.gravatar.com/avatar/0736e1c30e49c94fb04060488d6dae78?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-org-420.png"}}
